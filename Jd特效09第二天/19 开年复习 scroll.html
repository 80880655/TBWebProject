<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>19 开年复习 scroll</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        .box1 {
            /* margin: 20px auto; */
            width: 100px;
            height: 200px;
            border: 1px solid #ccc;
            background-color: yellow;
            position: absolute;
            /* top: 10px; */
            left: 10px;
        }
    </style>
</head>

<body>
    <div class="box1" id="box1">

    </div>
</body>

</html>

<script src="my.js" type="text/javascript"></script>
<script>
    // var ibox = $('box1');
    var ibox = document.getElementById('box1');
    // console.log(ibox);
    // create:gaofeng 2020/3/4 14:03  
    // 1.拖拽: 2个事件的组合
    // 2.记录位置，起始位置和最终的位置  ; 闪动的原因为 box.style.left 的值有问题

    ibox.onmousedown = function (event) {

        // 起始位置的坐标
        var event = event || window.event;
        var leader = event.clientX - this.offsetLeft;
        // console.log(leader);

        document.onmousemove = function (event) {
            var event = event || window.event;
            ibox.style.left = event.clientX - leader + 'px';
            ibox.style.top = event.clientY - leader + 'px';

            window.getSelection ? window.getSelection().removeAllRanges() : document.selection.empty();
        }

        document.onmouseup = function () {
            document.onmousemove = null;
        }

    }

</script>